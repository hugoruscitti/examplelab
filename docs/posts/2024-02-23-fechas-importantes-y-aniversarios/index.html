<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>Fechas importantes y aniversarios :: Examplelab — Mi blog</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Hay varios eventos que me gustaría recordar y celebrar, como el cumpleaños de mis sobrinos, el día que nos conocimos con mi novia o el día que adoptamos a nuestras mascotas.
También hay otras fechas que me gustaría tener presentes, no como aniversarios, pero sí como fechas importantes para mí: cómo el día que comencé a trabajar o hace cuánto tiempo obtuve la licencia de conducir.
Así que me pareció una buena idea comenzar a registrar todos esos eventos en la computadora y así tener una forma de recordarlos y apreciar todo lo que estoy viviendo."/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://www.examplelab.com.ar/posts/2024-02-23-fechas-importantes-y-aniversarios/" />




<script src="https://www.examplelab.com.ar/js/menu.js"></script>
<script src="https://www.examplelab.com.ar/js/prism.js"></script>
<script src="https://www.examplelab.com.ar/js/theme.js"></script>
<script src="https://www.examplelab.com.ar/js/imagenes.js"></script>


<link rel="stylesheet" href="https://www.examplelab.com.ar/assets/style.css?v=2">

<link rel="stylesheet" href="https://www.examplelab.com.ar/css/estilo.css">
<link rel="stylesheet" href="https://www.examplelab.com.ar/css/tachyons.min.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.examplelab.com.ar/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="https://www.examplelab.com.ar/favicon-16x16.png?1">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Fechas importantes y aniversarios"/>
<meta name="twitter:description" content="Armé un script para visualizar fechas importantes y
recordar aniversarios.
"/>



<meta property="og:title" content="Fechas importantes y aniversarios" />
<meta property="og:description" content="Armé un script para visualizar fechas importantes y
recordar aniversarios.
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.examplelab.com.ar/posts/2024-02-23-fechas-importantes-y-aniversarios/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-02-23T00:00:00+00:00" /><meta property="og:site_name" content="Examplelab" />






  </head>
  <body class="">
    <script>
      procesar_theme();
    </script>

    <div class="container">
      <header class="header">
  <span class="header__inner measure-2">
    <a href="/" class="logo" style="text-decoration: none;">
  <img width="64" height="64" src="/logo.png" alt="Logo" />
  <span class="logo__text pl2"> examplelab</span>
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about/index.html">Acerca de</a></li>
        
      
        
          <li><a href="/posts/index.html">Artículos</a></li>
        
      
        
          <li><a href="/links/index.html">Links</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about/index.html">Acerca de</a></li>
      
    
      
        <li><a href="/posts/index.html">Artículos</a></li>
      
    
      
        <li><a href="/links/index.html">Links</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger hidden">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        

  <div id="preview" role="button" class="dn no-user-select pointer overflow-auto vh-100 vw-100 bg-black-50 fixed z-max absolute--fill items-center justify-center">
    <div id="preview-content">
      <img src="/images/2021/la-culpa-no-es-del-dom/diff.png">
    </div>
  </div>


  <div class="post">
    <h2 class="post-title"><a href="https://www.examplelab.com.ar/posts/2024-02-23-fechas-importantes-y-aniversarios/">Fechas importantes y aniversarios</a></h2>
    <div class="post-meta">
      
        <span class="post-date">
            23/02/2024
        </span>
      
      
      
    </div>

    

    <div class="post-content">
      <p>Hay varios eventos que me gustaría recordar y celebrar, como
el cumpleaños de mis sobrinos, el día que nos conocimos con
mi novia o el día que adoptamos a nuestras mascotas.</p>
<p>También hay otras fechas que me gustaría tener presentes, no
como aniversarios, pero sí como fechas importantes para mí:
cómo el día que comencé a trabajar o hace cuánto tiempo
obtuve la licencia de conducir.</p>
<p>Así que me pareció una buena idea comenzar a registrar todos
esos eventos en la computadora y así tener una forma de
recordarlos y apreciar todo lo que estoy viviendo.</p>
<p>Comencé con una idea básica, quiero almacenar estas fechas
en un formato de texto, durable y simple:</p>
<pre tabindex="0"><code>Aniversarios:

2023-12-06: Adoptamos a las perritas.
2009-06-03: Cumpleaños de Mati.
2015-08-06: Cumpleaños de Agus.
[etc ...]

Otras fechas:

2023-07-21: Obtuve la licencia de manejo.
[etc ...]
</code></pre><p>Ahora, para que estas fechas sean fáciles de reconocer hice
un <a href="https://github.com/hugoruscitti/dotfiles/blob/master/bin/fechas_relativas.py">script</a> que me genera una representación visual de la
fecha, cuántos meses transcurrieron desde el último
aniversario y algunas otras ayudas más:</p>
<p><img src="/images/2024/fechas-importantes-y-aniversarios/captura-2024-02-23-jcyvt.png" alt=""></p>
<p>El
<a href="https://github.com/hugoruscitti/dotfiles/blob/master/bin/fechas_relativas.py">script</a> se encarga de obtener la fecha de hoy y calcular
cuánto tiempo transcurrió de cada uno de esos eventos.
Además, cuándo hace el cálculo de fechas también agrega un
emoji si la fecha está cerca de cumplir otro año (o un
aniversario).</p>
<p>El formato lo diseñe pensando en un caso de uso muy
frecuente, quiero abrir este archivo con VIM y visualizar
rápidamente las fechas en pantalla.</p>
<p>Esta es una infografía del formato de archivo que diseñé:</p>
<p><img src="/images/2024/fechas-importantes-y-aniversarios/captura-2024-02-23-l4l26.png" alt=""></p>
<p>Hay dos partes importantes en cada una de estas lineas. La
parte que está a la izquierda del token (<code>#</code>) es las que
puedo editar desde <code>vim</code>, mientras que la parte derecha del
token es la información que escribe automáticamente por el
<a href="https://github.com/hugoruscitti/dotfiles/blob/master/bin/fechas_relativas.py">script</a>.</p>
<h2 id="el-script-que-genera-la-visualización">El script que genera la visualización</h2>
<p>Para crear el
<a href="https://github.com/hugoruscitti/dotfiles/blob/master/bin/fechas_relativas.py">script</a> comencé con casos de uso muy directos,
escribí las llamadas a las funciones y los resultados
esperados, al mejor estilo TDD.</p>
<p>Por ejemplo, sé que entre estas dos fechas: <code>2022-01-01</code> y
<code>2022-05-06</code> transcurrieron 4 meses y 5 días, así que armé
los tests antes de comenzar a programar:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">assert</span> obtener_diferencia(<span style="color:#e6db74">&#34;2022-01-01&#34;</span>, <span style="color:#e6db74">&#34;2022-05-06&#34;</span>) <span style="color:#f92672">==</span> (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><p>Para implementar esta función separé la fecha en tres
partes, <code>año</code>, <code>mes</code> y <code>dia</code>, tanto de la fecha de hoy como
la fecha del evento, y luego hice una resta entre las dos.</p>
<p><img src="/images/2024/fechas-importantes-y-aniversarios/image20240221104031.png" alt=""></p>
<p>Al hacer esta función me encontré con la necesidad de
conocer la cantidad de días que tiene un mes determinado, si
es bisiesto o no, y otras particularidades.</p>
<p>Me encantó programar esta parte del programa, logré
comprender exactamente qué estaba haciendo y no usé ninguna
biblioteca de fechas de python ni de terceros.</p>
<p>Luego hice algo similar con la función que dibuja la
representación visual de meses. Comencé por escribir los
tests, enumeré los casos más importantes y luego escribí la
implementación:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">assert</span> graficar_barra((<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>)) <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;■■■■□□□□□□□□&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">assert</span> graficar_barra((<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">5</span>)) <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;□□□□□□□□□□□□&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">assert</span> graficar_barra((<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">0</span>)) <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;■■■■■■■■■□□□&#34;</span>
</span></span></code></pre></div><p>Para escribir estos tests solo tuve que usar la palabra
reservada <code>assert</code> y comparar la llamada de la función con
el resultado esperado.</p>
<h2 id="datos-cálculos-y-acciones">Datos, cálculos y acciones</h2>
<p>Al hacer el
<a href="https://github.com/hugoruscitti/dotfiles/blob/master/bin/fechas_relativas.py">script</a> también tuve en cuenta la forma de
programar que sugiere Eric Normand en su libro <a href="https://www.manning.com/books/grokking-simplicity">&ldquo;Grokking
Simplicity&rdquo;</a>:</p>
<p>Busqué clasificar las funciones en dos grupos: <code>actions</code> y
<code>calculatios</code> (o <code>funciones puras</code>  y <code>funciones impuras</code>
respectivamente).</p>
<p><code>calculations</code> son funciones que solamente actúan sobre los
parámetros de entrada, y siempre van a devolver el mismo
valor ante los mismos argumentos. Son funciones que no
tienen ningún efecto colateral, ni dependen del tiempo ni de
dónde se llamen. En cambio <code>actions</code> son las funciones que
toman algún dato externo o modifican estado externo (como
imprimir en pantalla, sobre-escribir archivos etc&hellip;)</p>
<p>Con esta separación en mente, busqué escribir la mayor parte
del código usando <code>calculations</code>, que son más fáciles de
diseñar, escribir y poner a pruebas. Luego, donde necesité
escribir <code>actions</code> busqué controlarlas y reducirlas al
mínimo, haciéndolas menos importantes y muy concretas.</p>
<p>Con respecto a los datos, me ayudó mucho tener claras las
estructuras de datos desde el principio, en lugar de diseñar
usando objetos diseñe las estructuras de datos muy simples y
fáciles de observar. Para diferencias de fechas usé tuplas
(de la forma <code>(años, meses, días)</code>) y para fechas usé
<code>strings</code> de la forma <code>YYYY-MM-DD</code>.</p>
<p>Por cierto, hace unos meses escribí sobe esta distinción de
<code>actions</code>, <code>calculations</code> y <code>data</code> en otro post del blog,
este es el link para referencias si te resulta útil:
<a href="https://www.examplelab.com.ar/posts/2021-03-03-replanteando-la-programacion-funcional/">https://www.examplelab.com.ar/posts/2021-03-03-replanteando-la-programacion-funcional/</a></p>
<h2 id="integración-con-vim">Integración con VIM</h2>
<p>Una vez que finalicé el
<a href="https://github.com/hugoruscitti/dotfiles/blob/master/bin/fechas_relativas.py">script</a>, busqué integrarlo a VIM para
que me sirva como interfaz de usuario.</p>
<p>La integración fue muy sencilla, agregué estos dos eventos
dentro de la configuración de VIM:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vim" data-lang="vim"><span style="display:flex;"><span><span style="color:#a6e22e">au</span> <span style="color:#a6e22e">BufRead</span> <span style="color:#a6e22e">fechas</span>.<span style="color:#a6e22e">wiki</span> <span style="color:#a6e22e">silent</span> <span style="color:#a6e22e">exec</span> <span style="color:#e6db74">&#34;%!fechas_relativas.py %&#34;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">au</span> <span style="color:#a6e22e">BufWritePost</span> <span style="color:#a6e22e">fechas</span>.<span style="color:#a6e22e">wiki</span> <span style="color:#a6e22e">silent</span> <span style="color:#a6e22e">exec</span> <span style="color:#e6db74">&#34;%!fechas_relativas.py %&#34;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>La primer linea le indica a VIM que tiene que procesar el
archivo cuando se abre, mientras que la segunda hace lo
mismo cuando se guarda el archivo.</p>
<p>De esta forma, cada vez que miro el archivo desde VIM me
puedo asegurar que va a estar mostrando las fechas
correctamente, sin necesidad de ejecutar ningún comando por
mi cuenta.</p>
<h2 id="cierre">Cierre</h2>
<p>Me siento muy conforme con el resultado de experimento que
inicié, no solo pude crear algo útil para mí, sino que
también pude poner en práctica ideas para escribir software
de forma más simple, como la distinción de <code>actions</code> y
<code>calculations</code>.</p>

    </div>

    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h">Leer otros artículos</span>
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="https://www.examplelab.com.ar/posts/2024-05-11-creando-retroplayer/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Creando un reproductor de música como Winamp</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="https://www.examplelab.com.ar/posts/2023-11-24-imagenes-async-en-el-navegador/">
                  <span class="button__text">Imágenes &#34;Lasy&#34; en el navegador</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    


    
      
        

      
    

    </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a href="/" class="logo" style="text-decoration: none;">
  <img width="64" height="64" src="/logo.png" alt="Logo" />
  <span class="logo__text pl2"> examplelab</span>
</a>

      <div class="copyright">
        <span>© 2010-2024 Hugo Ruscitti</span>
      </div>
    
  </div>
</footer>


<script src="https://www.examplelab.com.ar/assets/prism.js"></script>


      
    </div>
  </body>
</html>
